(()=>{"use strict";chrome.runtime.onInstalled.addListener((()=>{chrome.storage.local.get(["extensionOnOff","darkMode","lifetimeTotalBlocks","blockedUrlData"],(e=>{const t={};void 0===e.extensionOnOff&&(t.extensionOnOff=!0),void 0===e.darkMode&&(t.darkMode=!1),void 0===e.lifetimeTotalBlocks&&(t.lifetimeTotalBlocks={i:0,n:0,v:0,w:0}),void 0===e.blockedUrlData&&(t.blockedUrlData={}),Object.keys(t).length>0&&chrome.storage.local.set(t,(()=>{console.log("Initial values set in local storage")}))})),chrome.action.setBadgeBackgroundColor({color:"#666665"}),chrome.action.setBadgeTextColor({color:"#fff"}),chrome.contextMenus.create({id:"AddCurrentURL",title:"Block this site in Google Search",contexts:["all"]})})),chrome.runtime.onMessage.addListener((e=>{switch(e.type){case"SLIDER_CHANGED":chrome.runtime.sendMessage(e);break;case"updateBadge":chrome.action.setBadgeText({text:e.count.toString()})}})),chrome.tabs.onUpdated.addListener(((e,t,o)=>{"loading"===t.status&&chrome.action.setBadgeText({text:""})})),chrome.contextMenus.onClicked.addListener((e=>{"AddCurrentURL"===e.menuItemId&&chrome.action.openPopup()}))})();